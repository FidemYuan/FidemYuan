---
layout: post
title:  "包：单元库"
categories: Java
tags: package
author: fidemyuan
---

##  java中为何要去导包

因为要让解释器根据限定名来找到我想使用的类。一开始在编写类的时候，万一自己机器上本身就有一个同名的类的时候，怎么办？为了避免类名的冲突，于是就会在编写类名的前面加限定名，把类划分入单一的限定空间之内。

###  类库
类库是一组类文件
使用关键词package

比如：在编写类的时候可以在程序的第一句代码写上：
package  fruit；那么代表这个类就属于某一个包。

那么只要类的编写人员按照一定的规则编写包，那么这个包名就是唯一的。

###  导包
那么在使用的时候就用关键词：import进行导包，目的是让解释器根据import后面的包名找到对应的字节码文件。


## 背后的原理

我们将一个java文件称为一个编译单元，jvm会把这个编译单元编译为一个与编译单元名称相同的字节码文件：后缀是.class

那么当我们用package关键词来定义包名后，实际上并不是将这些类文件做打包。而是编译器会把生成的字节码文件放到classpath（环境变量定义的位置）下的与包名对应的操作系统层级之下来解决类名冲突的问题。

那么当我们需要某个类的时候，就用import关键词+包名的形式来导入对应的字节码文件：Java的解释器将首先找到环境变量CLASSPATH的根目录，用作查找.class文件的根目录。解释器获取包名称并将每个句点替换成反斜杠，产生一个路径（例如，package fruit.Apple就变成为fruit/Apple或fruit/Apple或其他，这将取决于操作系统）。得到的路径会与CLASSPATH中的各个不同的根目录路径相连接以获得一个完整的目录路径，解释器就会根据这一完整路径去查找你需要的类的字节码文件。
